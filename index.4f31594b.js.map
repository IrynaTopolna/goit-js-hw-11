{"mappings":"AAKA,MAEMA,EAAWC,SAASC,cAAc,eAClCC,EAAiBF,SAASC,cAAc,iBACxCE,EAAiBH,SAASC,cAAc,iBA+D9C,SAASG,IACPF,EAAeG,UAAY,GAC3BF,EAAeE,UAAY,E,CA/D7BN,EAASO,iBAAiB,SAE1B,SAAiBC,GACf,MAAMC,EAAcD,EAAIE,OAAOC,MAAMC,OACrCC,QAAQC,IAAIL,GAEZJ,IAEII,ICnBiCM,EDoBpBN,EClBVO,MACL,uCAAoBD,oDACpBE,MAAKC,IACL,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAM,4CAElB,OAAOF,EAAKG,MAAM,KDafJ,MAAKK,IACJ,GAAIA,EAAKC,OAAS,GAChB,MAAM,IAAIH,MACR,+DAgBZ,SAA0BE,GACxB,MAAME,EAAaF,EAAKG,KACtB,EAAGV,MAAMW,SAAEA,GAAYC,OAAOC,IAAEA,MAC9B,oDACYA,mDAAqDF,cAC/DA,WAENvB,EAAeG,UAAYkB,EAAWK,KAAK,G,CAlBrCC,CAAiBR,GAEG,IAAhBA,EAAKC,SACPlB,IAkBV,SAA6BiB,GAC3B,MAAMS,EAAeT,EAAKG,KACxB,EACEV,MAAMW,SAAEA,GACRC,OAAOC,IAAEA,GAAKI,QACdA,EAAOC,UACPA,EAASC,WACTA,KAIO,kDACSN,mDAAqDF,kBAC/DA,8BACSM,iCACGE,gCANEC,OAAOC,OAAOH,YAUtC7B,EAAeE,UAAYyB,EAAaF,KAAK,G,CApCrCQ,CAAoBf,G,IAGvBgB,OAAMC,GAAO1B,QAAQC,IAAI,GAAGyB,OCpCpB,IAAwBxB,C","sources":["src/index.js","src/fetchCountries.js"],"sourcesContent":["import './css/styles.css';\nimport fetchCountries from './fetchCountries';\n// import debounce from 'lodash.debounce';\n// import Notiflix from 'notiflix';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst inputRef = document.querySelector('#search-box');\nconst countryListRef = document.querySelector('.country-list');\nconst countryInfoRef = document.querySelector('.country-info');\n\ninputRef.addEventListener('input', onInput);\n\nfunction onInput(evt) {\n  const countryName = evt.target.value.trim();\n  console.log(countryName);\n\n  clearHTML();\n\n  if (countryName) {\n    fetchCountries(countryName)\n      .then(data => {\n        if (data.length > 10) {\n          throw new Error(\n            'Too many matches found. Please enter a more specific name.'\n          );\n          return;\n        }\n\n        createListMarkup(data);\n\n        if (data.length === 1) {\n          clearHTML();\n          createCountryMarkup(data);\n        }\n      })\n      .catch(err => console.log(`${err}`));\n  }\n}\n\nfunction createListMarkup(data) {\n  const listMarkup = data.map(\n    ({ name: { official }, flags: { svg } }) =>\n      `<li class=\"country-list__item\">\n      <img src=\"${svg}\" class=\"country-list__item-flag\" alt=\"Flag of ${official}\">\n      ${official}</li>`\n  );\n  countryListRef.innerHTML = listMarkup.join('');\n}\n\nfunction createCountryMarkup(data) {\n  const contryMarkup = data.map(\n    ({\n      name: { official },\n      flags: { svg },\n      capital,\n      languages,\n      population,\n    }) => {\n      const counrtyLang = Object.values(languages);\n\n      return `<h2 class=\"country-name\">\n          <img src=\"${svg}\" class=\"country-list__item-flag\" alt=\"Flag of ${official}\">\n          ${official}</h2>\n      <h3>Capital: ${capital}</h3>\n      <h3>Population: ${population}</h3>\n      <h3>Languages: ${counrtyLang}</h3>`;\n    }\n  );\n  countryInfoRef.innerHTML = contryMarkup.join('');\n}\n\nfunction clearHTML() {\n  countryListRef.innerHTML = '';\n  countryInfoRef.innerHTML = '';\n}\n","export default function fetchCountries(name) {\n  const BASE_URL = 'https://restcountries.com/v3.1';\n  return fetch(\n    `${BASE_URL}/name/${name}?fields=name,capital,population,flags,languages`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error('Oops, there is no country with that name');\n    }\n    return resp.json();\n  });\n}\n"],"names":["$1f0dc3b9307be026$var$inputRef","document","querySelector","$1f0dc3b9307be026$var$countryListRef","$1f0dc3b9307be026$var$countryInfoRef","$1f0dc3b9307be026$var$clearHTML","innerHTML","addEventListener","evt","countryName","target","value","trim","console","log","name","fetch","then","resp","ok","Error","json","data","length","listMarkup","map","official","flags","svg","join","$1f0dc3b9307be026$var$createListMarkup","contryMarkup","capital","languages","population","Object","values","$1f0dc3b9307be026$var$createCountryMarkup","catch","err"],"version":3,"file":"index.4f31594b.js.map"}