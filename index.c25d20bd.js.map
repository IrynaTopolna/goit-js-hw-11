{"mappings":"YAKA,IAEMA,EAAWC,SAASC,cAAc,eAClCC,EAAiBF,SAASC,cAAc,iBACxCE,EAAiBH,SAASC,cAAc,iBA+D9C,SAASG,IACPF,EAAeG,UAAY,GAC3BF,EAAeE,UAAY,E,CA/D7BN,EAASO,iBAAiB,SAE1B,SAAiBC,GACf,IAAMC,EAAcD,EAAIE,OAAOC,MAAMC,OACrCC,QAAQC,IAAIL,GAEZJ,IAEII,ICnBiCM,EDoBpBN,EClBVO,MACL,GAAoBC,OAFL,iCAEH,UAAaA,OAALF,EAAK,oDACzBG,MAAK,SAAAC,GACL,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAM,4CAElB,OAAOF,EAAKG,M,KDaTJ,MAAK,SAAAK,GACJ,GAAIA,EAAKC,OAAS,GAChB,MAAM,IAAIH,MACR,+DAgBZ,SAA0BE,GACxB,IAAME,EAAaF,EAAKG,KACtB,SAAAC,G,IAAGC,EAAgBD,EAAhBZ,KAAQa,SAAYC,EAAYF,EAAZG,MAASD,I,MAC9B,oDACiEZ,OAArDY,EAAI,mDACdZ,OAD+DW,EAAS,cAC/DX,OAATW,EAAS,Q,IAEfzB,EAAeG,UAAYmB,EAAWM,KAAK,G,CAlBrCC,CAAiBT,GAEG,IAAhBA,EAAKC,SACPnB,IAkBV,SAA6BkB,GAC3B,IAAMU,EAAeV,EAAKG,KACxB,SAAAC,G,IACEC,EAAgBD,EAAhBZ,KAAQa,SACRC,EAAYF,EAAZG,MAASD,IACTK,EAAOP,EAAPO,QACAC,EAASR,EAATQ,UACAC,EAAUT,EAAVS,WAEMC,EAAcC,OAAOC,OAAOJ,GAElC,MAAO,kDAC8DlB,OAArDY,EAAI,mDACdZ,OAD+DW,EAAS,kBAE/DX,OADTW,EAAS,8BAEGX,OADHiB,EAAQ,iCAENjB,OADCmB,EAAW,gCACAnB,OAAZoB,EAAY,Q,IAGjCjC,EAAeE,UAAY2B,EAAaF,KAAK,G,CApCrCS,CAAoBjB,G,IAGvBkB,OAAM,SAAAC,G,OAAO7B,QAAQC,IAAI,GAAOG,OAAJyB,G,ICpCpB,IAAwB3B,C","sources":["src/index.js","src/fetchCountries.js"],"sourcesContent":["import './css/styles.css';\nimport fetchCountries from './fetchCountries';\n// import debounce from 'lodash.debounce';\n// import Notiflix from 'notiflix';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst inputRef = document.querySelector('#search-box');\nconst countryListRef = document.querySelector('.country-list');\nconst countryInfoRef = document.querySelector('.country-info');\n\ninputRef.addEventListener('input', onInput);\n\nfunction onInput(evt) {\n  const countryName = evt.target.value.trim();\n  console.log(countryName);\n\n  clearHTML();\n\n  if (countryName) {\n    fetchCountries(countryName)\n      .then(data => {\n        if (data.length > 10) {\n          throw new Error(\n            'Too many matches found. Please enter a more specific name.'\n          );\n          return;\n        }\n\n        createListMarkup(data);\n\n        if (data.length === 1) {\n          clearHTML();\n          createCountryMarkup(data);\n        }\n      })\n      .catch(err => console.log(`${err}`));\n  }\n}\n\nfunction createListMarkup(data) {\n  const listMarkup = data.map(\n    ({ name: { official }, flags: { svg } }) =>\n      `<li class=\"country-list__item\">\n      <img src=\"${svg}\" class=\"country-list__item-flag\" alt=\"Flag of ${official}\">\n      ${official}</li>`\n  );\n  countryListRef.innerHTML = listMarkup.join('');\n}\n\nfunction createCountryMarkup(data) {\n  const contryMarkup = data.map(\n    ({\n      name: { official },\n      flags: { svg },\n      capital,\n      languages,\n      population,\n    }) => {\n      const counrtyLang = Object.values(languages);\n\n      return `<h2 class=\"country-name\">\n          <img src=\"${svg}\" class=\"country-list__item-flag\" alt=\"Flag of ${official}\">\n          ${official}</h2>\n      <h3>Capital: ${capital}</h3>\n      <h3>Population: ${population}</h3>\n      <h3>Languages: ${counrtyLang}</h3>`;\n    }\n  );\n  countryInfoRef.innerHTML = contryMarkup.join('');\n}\n\nfunction clearHTML() {\n  countryListRef.innerHTML = '';\n  countryInfoRef.innerHTML = '';\n}\n","export default function fetchCountries(name) {\n  const BASE_URL = 'https://restcountries.com/v3.1';\n  return fetch(\n    `${BASE_URL}/name/${name}?fields=name,capital,population,flags,languages`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error('Oops, there is no country with that name');\n    }\n    return resp.json();\n  });\n}\n"],"names":["$b8f9b7833fa37166$var$inputRef","document","querySelector","$b8f9b7833fa37166$var$countryListRef","$b8f9b7833fa37166$var$countryInfoRef","$b8f9b7833fa37166$var$clearHTML","innerHTML","addEventListener","evt","countryName","target","value","trim","console","log","name","fetch","concat","then","resp","ok","Error","json","data","length","listMarkup","map","param","official","svg","flags","join","$b8f9b7833fa37166$var$createListMarkup","contryMarkup","capital","languages","population","counrtyLang","Object","values","$b8f9b7833fa37166$var$createCountryMarkup","catch","err"],"version":3,"file":"index.c25d20bd.js.map"}